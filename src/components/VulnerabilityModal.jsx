import React from "react";
import { FaTimes } from "react-icons/fa";

export default function VulnerabilityModal({ vulnerability, onClose }) {
  if (!vulnerability) return null; // Render nothing if no vulnerability is selected

  return (
    <div className="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 px-4">
      <div className="bg-white rounded-lg p-6 relative text-black max-w-fit">
        <button
          className="absolute top-2 right-2 text-gray-600 hover:text-gray-900"
          onClick={onClose}
        >
          <FaTimes size={24} />
        </button>
        
        <h3 className="text-2xl font-semibold mb-4">{vulnerability.title || "No Title"}</h3>
        
        <p><strong>IP Address:</strong> {vulnerability.assetIp || "N/A"}</p>
        <p><strong>Port:</strong> {vulnerability.port || "N/A"}</p>
        <p><strong>Risk Level:</strong> {vulnerability.riskLevel || "N/A"}</p>
        <p><strong>Description:</strong> {vulnerability.description || "N/A"}</p>
        <p><strong>Protocol:</strong> {vulnerability.protocol || "N/A"}</p>
        <p><strong>CVE ID:</strong> {vulnerability.cveId && vulnerability.cveId.length > 0 ? vulnerability.cveId.join(", ") : "N/A"}</p>
        <p><strong>Impact:</strong> {vulnerability.impact || "N/A"}</p>
        <p><strong>Company:</strong> {vulnerability.company ? vulnerability.company.name : "N/A"}</p>
        <p><strong>Is Resolved:</strong> {vulnerability.isResolved ? "Yes" : "No"}</p>
        <p><strong>Quarters:</strong> {vulnerability.quarter && vulnerability.quarter.length > 0 ? vulnerability.quarter.join(", ") : "N/A"}</p>
        <p><strong>CVSS Score:</strong> {vulnerability.cvssScore || "N/A"}</p>
        <p><strong>Recommendations:</strong> {vulnerability.recommendations || "N/A"}</p>
        <p><strong>References:</strong> {vulnerability.references && vulnerability.references.length > 0 ? vulnerability.references.join(", ") : "N/A"}</p>
      </div>
    </div>
  );
}
